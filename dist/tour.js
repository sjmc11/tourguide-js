!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tourguide=e():t.tourguide=e()}(self,(()=>(()=>{"use strict";var t={54:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return new Promise((e=>{if(document.querySelector(t))return e(document.querySelector(t));const i=new MutationObserver((()=>{document.querySelector(t)&&(e(document.querySelector(t)),i.disconnect())}));i.observe(document.body,{childList:!0,subtree:!0})}))}},86:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default={nextLabel:"Next",prevLabel:"Back",finishLabel:"Finish",hidePrev:!1,hideNext:!1,dialogClass:"",allowDialogOverlap:!1,dialogZ:999,dialogWidth:0,dialogMaxWidth:340,dialogAnimate:!0,dialogPlacement:void 0,backdropClass:"",backdropColor:"rgba(20,20,21,0.84)",backdropAnimate:!0,targetPadding:30,completeOnFinish:!0,showStepDots:!0,stepDotsPlacement:"footer",showButtons:!0,showStepProgress:!0,progressBar:"",keyboardControls:!0,exitOnEscape:!0,exitOnClickOutside:!0,autoScroll:!0,autoScrollSmooth:!0,autoScrollOffset:20,closeButton:!0,rememberStep:!1,debug:!0,steps:[]}},204:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.computeDots=e.dotsWrapperHtmlString=void 0,e.dotsWrapperHtmlString=function(){const t=document.createElement("div");return t.classList.add("tg-dialog-dots"),t.id="tg-dialog-dots",t.outerHTML},e.computeDots=t=>{let e="";return t.tourSteps.length&&t.tourSteps.forEach(((i,n)=>{const o=document.createElement("span");o.classList.add("tg-dot"),n===t.activeStep&&o.classList.add("tg-dot-active"),e+=o.outerHTML})),e}},288:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(i(54)),r=n(i(921));e.default=async function(t){return new Promise((async(e,i)=>{if(this.isVisible)return this.options.debug&&console.warn("Tour already active"),i("Tour already active");t&&(this.group=t),this.options.debug&&console.info("Start tour");const n=this;try{await(0,r.default)(n)}catch(t){return this.options.debug&&console.warn(t),i(t)}return await n.visitStep(this.activeStep).catch((t=>(this.options.debug&&console.warn(t),i(t)))),await(0,o.default)(".tg-dialog").then((async()=>{await this.initListeners(),this.options.dialogAnimate&&this.dialog.classList.add("animate-position")})),e(!0)}))}},291:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.keyPressHandler=e.clickOutsideHandler=e.handleDestroyListeners=e.handleInitListeners=void 0,e.clickOutsideHandler=async function(t){if(!(t.target instanceof Element))return;const e=this.backdrop.getBoundingClientRect();if(t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height)return;const i=this.dialog.getBoundingClientRect();t.clientX>=i.x&&t.clientX<=i.x+i.width&&t.clientY>=i.y&&t.clientY<=i.y+i.height||this.dialog.contains(t.target)||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),await this.exit())},e.keyPressHandler=async function(t){return"Escape"===t.key&&this.options.exitOnEscape?(t.preventDefault(),void await this.exit()):"ArrowRight"===t.key&&this.options.keyboardControls?(t.preventDefault(),void this.visitStep("next").catch((t=>{this.options.debug&&console.warn(t)}))):"ArrowLeft"===t.key&&this.options.keyboardControls?(t.preventDefault(),void this.visitStep("prev").catch((t=>{this.options.debug&&console.warn(t)}))):void 0},e.handleInitListeners=function(){const t=()=>{let t=document.getElementById("tg-dialog-next-btn");t&&!this._trackedEvents.nextBtnClickEvent.initialized&&(t.addEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!0)},e=()=>{let t=document.getElementById("tg-dialog-prev-btn");t&&!this._trackedEvents.prevBtnClickEvent.initialized&&(t.addEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!0)},i=()=>{let t=document.getElementById("tg-dialog-close-btn");t&&!this._trackedEvents.closeBtnClickEvent.initialized&&(t.addEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!0)},n=()=>{this._trackedEvents.outsideClickEvent.initialized||(document.body.addEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!0)},o=()=>{this._trackedEvents.keyPressEvent.initialized||(window.addEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!0)};return new Promise((r=>(this.options.showButtons&&t(),this.options.showButtons&&e(),this.options.closeButton&&i(),this.options.exitOnClickOutside&&n(),(this.options.keyboardControls||this.options.exitOnEscape)&&o(),r(!0))))},e.handleDestroyListeners=function(){const t=()=>{let t=document.getElementById("tg-dialog-next-btn");t&&(t.removeEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!1)},e=()=>{let t=document.getElementById("tg-dialog-prev-btn");t&&(t.removeEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!1)},i=()=>{let t=document.getElementById("tg-dialog-close-btn");t&&(t.removeEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!1)},n=()=>{document.body.removeEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!1},o=()=>{window.removeEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!1};return new Promise((r=>(this.options.showButtons&&t(),this.options.showButtons&&e(),this.options.closeButton&&i(),this.options.exitOnClickOutside&&n(),(this.options.keyboardControls||this.options.exitOnEscape)&&o(),r(!0))))}},309:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.handleRefreshDialog=void 0;const o=n(i(921)),r=i(588),s=n(i(54));e.handleRefreshDialog=async function(){return new Promise((async(t,e)=>(await(0,r.renderDialogHtml)(this).then((t=>{t&&(this.dialog.innerHTML=t)})).catch((t=>{this.options.debug&&console.warn(t)})),await(0,r.updateDialogHtml)(this).catch((t=>{this.options.debug&&console.warn(t),e(t)})),await this.updatePositions(),this.isVisible&&await(0,s.default)(".tg-dialog").then((async()=>(await this.destroyListeners(),await this.initListeners(),!0))),t(!0))))},e.default=async function(){return new Promise((async(t,e)=>(await(0,o.default)(this).catch((t=>e(t))),this.computeBackdropAttributes(),await this.refreshDialog().catch((t=>e(t))),t(!0))))}},386:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(){return new Promise((async(t,e)=>{if(this._promiseWaiting)return e("Promise waiting");if(this._promiseWaiting=!0,this._globalBeforeExitCallback)try{await this._globalBeforeExitCallback()}catch(t){return e(t)}return this.dialog.style.display="none",this.backdrop.style.display="none",this.isVisible=!1,this.options.rememberStep||(this.activeStep=0),this.options.debug&&console.info("Tour exited"),await this.destroyListeners(),setTimeout((()=>{this._globalAfterExitCallback&&this._globalAfterExitCallback()}),0),this._promiseWaiting=!1,t(!0)}))}},398:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(588),r=n(i(54));e.default=async function(t){if(t)return Object.assign(this.options,t),this.computeBackdropAttributes(),await(0,o.renderDialogHtml)(this).then((t=>{t&&(this.dialog.innerHTML=t)})).catch((t=>{this.options.debug&&console.warn(t)})),await(0,o.updateDialogHtml)(this).catch((t=>{this.options.debug&&console.warn(t)})),this.isVisible&&await(0,r.default)(".tg-dialog").then((async()=>(await this.destroyListeners(),await this.initListeners(),!0))),this}},411:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=i(906),o=i(588);e.default=function(){return new Promise((async t=>{this.backdrop.style.display="block",await(0,n.computeBackdropPosition)(this),this.dialog.style.display="block",this.options.dialogAnimate&&this.isVisible&&this.dialog.classList.add("animate-position"),await(0,o.computeDialogPosition)(this),this.options.dialogAnimate&&setTimeout((()=>{this.dialog.classList.remove("animate-position")}),300),this.isVisible=!0,window.onresize||(window.onresize=()=>{(0,n.computeBackdropPosition)(this),(0,o.computeDialogPosition)(this)}),window.onscroll||(window.onscroll=()=>{(0,o.computeDialogPosition)(this)}),await setTimeout((()=>t(!0)),300)}))}},588:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.computeDialogPosition=e.updateDialogHtml=e.renderDialogHtml=e.createTourGuideDialog=void 0;const n=i(204),o=i(949);async function r(t){t.options.dialogClass&&t.dialog.classList.add(t.options.dialogClass),t.options.dialogZ&&(t.dialog.style.zIndex=String(t.options.dialogZ)),t.dialog.style.width=t.options.dialogWidth?t.options.dialogWidth+"px":"auto",t.options.dialogMaxWidth&&(t.dialog.style.maxWidth=t.options.dialogMaxWidth+"px");let e="";if(e+="<div class='tg-dialog-header'>",e+='<div class="tg-dialog-title" id="tg-dialog-title">\x3c!-- JS rendered --\x3e</div>',t.options.closeButton&&(e+='<div class="tg-dialog-close-btn" id="tg-dialog-close-btn">',e+=' <svg width="12px" height="12px" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>',e+="</div>"),e+='<div class="tg-dialog-spinner" id="tg-dialog-spinner">',e+='<svg fill="#000000" width="12" height="12" viewBox="0 0 20 20" stroke="#000000" stroke-width="0.8"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M10,1V3a7,7,0,1,1-7,7H1a9,9,0,1,0,9-9Z"></path> </g> </g></svg>',e+="</div>",e+="</div>",t.options.progressBar&&(e+='<div class="tg-dialog-progress-bar"><span class="tg-bar" id="tg-dialog-progbar"></span></div>'),e+='<div class="tg-dialog-body" id="tg-dialog-body">\x3c!-- JS rendered --\x3e</div>',t.options.showStepDots&&"body"===t.options.stepDotsPlacement){const t=(0,n.dotsWrapperHtmlString)();t&&(e+=t)}e+='<div class="tg-dialog-footer">';let i="tg-dialog-btn",o="false";if(0===t.activeStep&&(o="true",i+=" disabled"),t.options.showButtons&&!t.options.hidePrev&&(e+='<button type="button" class="'+i+'" id="tg-dialog-prev-btn" disabled="'+o+`">${t.options.prevLabel}</button>`),e+='<div class="tg-dialog-footer-sup">',t.options.showStepDots&&"footer"===t.options.stepDotsPlacement){const t=(0,n.dotsWrapperHtmlString)();t&&(e+=t)}return t.options.showStepProgress&&(e+='<span class="tg-step-progress" id="tg-step-progress">\x3c!-- JS rendered --\x3e</span>'),e+="</div>",t.options.showButtons&&!t.options.hideNext&&(e+=`<button type="button" class="tg-dialog-btn" id="tg-dialog-next-btn">${t.options.nextLabel}</button>`),e+="</div>",e+='<div id="tg-arrow" class="tg-arrow"></div>\x3c!-- end tour arrow --\x3e',e}e.createTourGuideDialog=async function(){return this.dialog=document.createElement("div"),this.dialog.classList.add("tg-dialog"),await r(this).then((t=>{this.dialog.innerHTML=t})),document.body.append(this.dialog),!0},e.renderDialogHtml=r,e.updateDialogHtml=function(t){return new Promise(((e,i)=>{const o=t.tourSteps[t.activeStep];o||i("No active step data");const r=document.getElementById("tg-dialog-title");r&&(r.innerHTML=o.title?o.title:"");const s=document.getElementById("tg-dialog-body");s&&o&&("string"==typeof o.content?s.innerHTML=o.content?o.content:"":(s.innerHTML="",s.append(o.content)));const a=document.getElementById("tg-dialog-dots");a&&t.options.showStepDots&&(0,n.computeDots)(t)&&(a.innerHTML=(0,n.computeDots)(t));const l=document.getElementById("tg-dialog-prev-btn");l&&(0===t.activeStep?(l.classList.add("disabled"),l.setAttribute("disabled","true")):(l.classList.remove("disabled"),l.removeAttribute("disabled")));const c=document.getElementById("tg-dialog-next-btn");c&&(c.innerHTML=t.activeStep+1>=t.tourSteps.length?t.options.finishLabel:t.options.nextLabel);const d=document.getElementById("tg-step-progress");d&&(d.innerHTML=t.activeStep+1+"/"+t.tourSteps.length);const u=document.getElementById("tg-dialog-progbar");u&&(t.options.progressBar&&(u.style.backgroundColor=t.options.progressBar),u.style.width=(t.activeStep+1)/t.tourSteps.length*100+"%"),e(!0)}))},e.computeDialogPosition=function(t){return new Promise((async e=>{const i=document.querySelector("#tg-arrow");let n=t.tourSteps[t.activeStep].dialogTarget||t.tourSteps[t.activeStep].target;if(n===document.body)return Object.assign(t.dialog.style,{top:window.innerHeight/2.25-t.dialog.clientHeight/2+"px",left:window.innerWidth/2-t.dialog.clientWidth/2+"px",position:"fixed"}),t.dialog.classList.add("tg-dialog-fixed"),i&&(i.style.display="none"),e(!0);t.dialog.style.position="absolute",t.dialog.classList.remove("tg-dialog-fixed"),i&&(i.style.display="inline-block"),(0,o.computePosition)(n,t.dialog,{placement:t.options.dialogPlacement,middleware:[(0,o.autoPlacement)({autoAlignment:!0,padding:5}),(0,o.shift)({crossAxis:t.options.allowDialogOverlap,padding:15}),(0,o.arrow)({element:i}),(0,o.offset)(20)]}).then((({x:n,y:o,placement:r,middlewareData:s})=>(Object.assign(t.dialog.style,{left:`${n}px`,top:`${o}px`}),s.arrow&&i&&Object.assign(i.style,function(t,e,i){const n=t?.x||0,o=t?.y||0,r=10,s={top:"bottom",right:"left",bottom:"top",left:"right"}[e.split("-")[0]],a=i.clientWidth-r,l=i.clientHeight-r,c=Math.abs(o-l)<=r,d=Math.abs(n-a)<=r,u=Math.abs(o)<=r,f=Math.abs(n)<=r,p=0!==t?.centerOffset||(f||d)&&(u||c);return{left:f?"right"===s?"":"0":d?`${a}px`:`${n}px`,top:u?"bottom"===s?"":"0":c?`${l}px`:`${o}px`,[s]:p?"0":"-5px",transform:p?"none":"rotate(45deg)"}}(s.arrow,r,t.dialog)),e(!0))))}))}},605:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delFinishedTour=e.getIsFinished=void 0,e.getIsFinished=function(t="tour"){return!!localStorage.tg_tours_complete&&localStorage.tg_tours_complete.split(",").includes(t)},e.delFinishedTour=function(t="tour"){if("all"===t)return void(localStorage.tg_tours_complete=null);const e=localStorage.tg_tours_complete.split(",");localStorage.tg_tours_complete=e.filter((e=>e!==t))},e.default=async function(t=!0,e="tour"){if(this._globalFinishCallback)try{await this._globalFinishCallback()}catch(t){return!1}if(this.options.completeOnFinish){if(!localStorage.tg_tours_complete)return localStorage.tg_tours_complete=[e],t&&await this.exit(),void(this.activeStep=0);const i=localStorage.tg_tours_complete.split(",");i.includes(e)||(i.push(e),localStorage.tg_tours_complete=i)}return t&&await this.exit(),this.activeStep=0,this._promiseWaiting=!1,!0}},687:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.handleVisitPrevStep=e.handleVisitNextStep=e.goToStep=void 0;const o=i(588),r=n(i(696));function s(t,e){return new Promise((async(i,n)=>{if(e>=t.tourSteps.length)return n("End of tour steps");if(e<0)return n("Start of tour steps");const s=t.activeStep,a=t.tourSteps[s],l=t.tourSteps[e];if(!l||!a)return n("Step not found by index");if((t._globalBeforeChangeCallback&&e!==s||a.beforeLeave||l.beforeEnter)&&(t._promiseWaiting=!0,t.dialog.classList.add("tg-dialog-loading")),t._globalBeforeChangeCallback&&e!==s)try{await t._globalBeforeChangeCallback()}catch(t){return n(t)}if(e!==s&&a.beforeLeave)try{await a.beforeLeave(a,l)}catch(t){return n(t)}if(l.beforeEnter)try{await l.beforeEnter(a,l)}catch(t){return n(t)}return"string"==typeof l.target&&(t.tourSteps[e].target=document.querySelector(l.target)),l.target&&t.tourSteps[e].target||(t.tourSteps[e].target=document.body),t.activeStep=Number(e),await(0,o.updateDialogHtml)(t).catch((e=>{t.options.debug&&console.warn(e),n(e)})),t.options.autoScroll&&l.target!==document.body&&await(0,r.default)(t,l.target),await t.updatePositions(),e!==s&&a.afterLeave&&await a.afterLeave(a,l),l.afterEnter&&await l.afterEnter(a,l),t._globalAfterChangeCallback&&e!==s&&await t._globalAfterChangeCallback(),t._promiseWaiting=!1,t.dialog.classList.remove("tg-dialog-loading"),i(!0)}))}e.handleVisitNextStep=async function(){return new Promise((async(t,e)=>{const i=this.activeStep+1;try{await this.visitStep(i)}catch(t){return e(t)}return t(!0)}))},e.handleVisitPrevStep=async function(){return new Promise((async(t,e)=>{const i=this.activeStep-1;try{await this.visitStep(i)}catch(t){return e(t)}return t(!0)}))},e.goToStep=s,e.default=async function(t){return new Promise((async(e,i)=>this._promiseWaiting?i("Promise waiting"):("string"==typeof t&&(t="next"===t?this.activeStep+1:this.activeStep-1),t>=this.tourSteps.length?void await this.finishTour(!0,this.group):(await s(this,t).catch((t=>i(t))),e(!0)))))}},696:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e)=>{e.scrollIntoView({behavior:t.options.autoScrollSmooth?"smooth":"auto",block:"end",inline:"nearest"})}},719:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(i(921)),r=i(588),s=n(i(54));e.default=async function(t){this.options.steps&&(this.options.steps.push(...t),await(0,o.default)(this),this.isVisible&&await(0,r.updateDialogHtml)(this).catch((t=>{this.options.debug&&console.warn(t)})),this.isVisible&&this.updatePositions().catch((t=>{this.options.debug&&console.warn(t)})),this.isVisible&&await(0,s.default)(".tg-dialog").then((async()=>(await this.destroyListeners(),await this.initListeners(),!0))))}},762:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleOnAfterStepChange=e.handleOnBeforeStepChange=e.handleOnAfterExit=e.handleOnBeforeExit=e.handleOnFinish=void 0,e.handleOnFinish=function(t){if("function"!=typeof t)throw new Error("Provided callback for onFinish was not a function");this._globalFinishCallback=t},e.handleOnBeforeExit=function(t){if("function"!=typeof t)throw new Error("Provided callback for onBeforeExit was not a function");this._globalBeforeExitCallback=t},e.handleOnAfterExit=function(t){if("function"!=typeof t)throw new Error("Provided callback for onAfterExit was not a function");this._globalAfterExitCallback=t},e.handleOnBeforeStepChange=function(t){if("function"!=typeof t)throw new Error("Provided callback for onBeforeStepChange was not a function");this._globalBeforeChangeCallback=t},e.handleOnAfterStepChange=function(t){if("function"!=typeof t)throw new Error("Provided callback for onAfterStepChange was not a function");this._globalAfterChangeCallback=t}},844:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,o)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TourGuideClient=void 0;const a=i(588),l=s(i(411)),c=i(906),d=i(762),u=i(291),f=r(i(687)),p=s(i(719)),h=s(i(288)),g=s(i(398)),m=s(i(386)),y=r(i(309)),v=r(i(605)),b=s(i(86));e.TourGuideClient=class{constructor(t){this.group="",this.isVisible=!1,this.activeStep=0,this.tourSteps=[],this.options=b.default,this.isFinished=v.getIsFinished,this._promiseWaiting=!1,this.createTourGuideBackdrop=c.createTourGuideBackdrop,this.computeBackdropAttributes=c.computeBackdropAttributes,this.createTourGuideDialog=a.createTourGuideDialog,this.start=h.default,this.visitStep=f.default,this.addSteps=p.default,this.nextStep=f.handleVisitNextStep,this.prevStep=f.handleVisitPrevStep,this.exit=m.default,this.refresh=y.default,this.refreshDialog=y.handleRefreshDialog,this.finishTour=v.default,this.updatePositions=l.default,this.deleteFinishedTour=v.delFinishedTour,this.setOptions=g.default,this.initListeners=u.handleInitListeners,this.destroyListeners=u.handleDestroyListeners,this._trackedEvents={nextBtnClickEvent:{initialized:!1,fn:this.nextStep.bind(this)},prevBtnClickEvent:{initialized:!1,fn:this.prevStep.bind(this)},closeBtnClickEvent:{initialized:!1,fn:this.exit.bind(this)},keyPressEvent:{initialized:!1,fn:u.keyPressHandler.bind(this)},outsideClickEvent:{initialized:!1,fn:u.clickOutsideHandler.bind(this)}},this.onFinish=d.handleOnFinish,this.onBeforeExit=d.handleOnBeforeExit,this.onAfterExit=d.handleOnAfterExit,this.onBeforeStepChange=d.handleOnBeforeStepChange,this.onAfterStepChange=d.handleOnAfterStepChange,this.dialog=document.createElement("div"),this.backdrop=document.createElement("div"),this.options=b.default,t&&Object.assign(this.options,t),this.createTourGuideDialog().catch((t=>{this.options.debug&&console.warn(t)})),this.createTourGuideBackdrop()}}},906:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.computeBackdropPosition=e.computeBackdropAttributes=e.createTourGuideBackdrop=void 0,e.createTourGuideBackdrop=function(){this.backdrop=document.createElement("div"),this.computeBackdropAttributes(),document.body.append(this.backdrop)},e.computeBackdropAttributes=function(){this.options&&(this.backdrop.className="tg-backdrop",this.backdrop.style.boxShadow=this.options.backdropColor+" 0 0 1px 2px, "+this.options.backdropColor+" 0 0 0 1000vh",this.options.backdropClass&&this.backdrop.classList.add(this.options.backdropClass),this.options.dialogAnimate&&this.backdrop.classList.add("tg-backdrop-animate"))},e.computeBackdropPosition=function(t){return new Promise((async(e,i)=>{if(void 0===t.options.targetPadding)return i("Options failed to initialize");if(!t.backdrop)return i("No backdrop element initialized");const n=t.tourSteps[t.activeStep],o=n.target,r=o.getBoundingClientRect(),s=r.width+t.options.targetPadding>document.documentElement.clientWidth;if(o===document.body){const e=0;r.width=e,r.height=e,t.backdrop.style.position="fixed",t.backdrop.style.top=window.innerHeight/2.5+"px",t.backdrop.style.left=window.innerWidth/2+"px"}else n.fixed?(t.backdrop.style.position="fixed",t.backdrop.style.top=r.top-t.options.targetPadding/2+"px",t.backdrop.style.left=(s?r.x:r.x-t.options.targetPadding/2)+"px"):(t.backdrop.style.position="absolute",t.backdrop.style.top=window.scrollY+r.top-t.options.targetPadding/2+"px",t.backdrop.style.left=(s?r.x:r.x-t.options.targetPadding/2)+"px");t.backdrop.style.pointerEvents=n.propagateEvents?"none":"",t.backdrop.style.width=(s?r.width:r.width+t.options.targetPadding)+"px",t.backdrop.style.height=(r.height?r.height+t.options.targetPadding:r.height)+"px",e(!0)}))}},921:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(t){return new Promise((async(e,i)=>{let n=[];t.options.steps&&t.options.steps.length&&(n=t.options.steps.map((e=>{if("string"==typeof e.target){const i=document.querySelector(e.target);i&&(e.target=i,t.options.targetPadding&&t.options.autoScrollOffset?i.style.scrollMargin=t.options.autoScrollOffset+t.options.targetPadding+"px 0":i.style.scrollMargin="30px 0")}if(e.target||(e.target=document.body),"string"==typeof e.dialogTarget){const t=document.querySelector(e.dialogTarget);e.dialogTarget=t||void 0}return e})));const o=document.querySelectorAll("[data-tg-tour]");return o&&o.forEach((e=>{const i=e.getAttribute("data-tg-title"),o=e.getAttribute("data-tg-tour"),r=e.getAttribute("data-tg-group"),s=e.getAttribute("data-tg-order"),a=e.getAttribute("data-tg-fixed"),l=e.getAttribute("data-tg-margin"),c=e.getAttribute("data-tg-dialog-target"),d=e.getAttribute("data-tg-propagate-events");t.options.targetPadding&&t.options.autoScrollOffset?e.style.scrollMargin=(l?l+t.options.targetPadding:t.options.autoScrollOffset+t.options.targetPadding)+"px 0":e.style.scrollMargin=(l||"30")+"px 0",n.push({title:i||void 0,order:s?Number(s):999,target:e,dialogTarget:c?document.querySelector(c):void 0,content:o||void 0,fixed:null!==a&&"false"!==a,group:r||void 0,propagateEvents:null!==d&&"false"!==d})})),t.group&&(n=n.filter((e=>e.group===t.group))),n.sort((function(t,e){return new Date(t.order)<new Date(e.order)?-1:1})),t.tourSteps=n,t.tourSteps.length?e(!0):i("No tour steps detected"+(t.group?" in group: "+t.group:""))}))}},949:(t,e,i)=>{i.r(e),i.d(e,{arrow:()=>xt,autoPlacement:()=>mt,autoUpdate:()=>pt,computePosition:()=>St,detectOverflow:()=>ht,flip:()=>vt,getOverflowAncestors:()=>Z,hide:()=>wt,inline:()=>kt,limitShift:()=>Et,offset:()=>gt,platform:()=>ut,shift:()=>yt,size:()=>bt});const n=["top","right","bottom","left"],o=["start","end"],r=n.reduce(((t,e)=>t.concat(e,e+"-"+o[0],e+"-"+o[1])),[]),s=Math.min,a=Math.max,l=Math.round,c=Math.floor,d=t=>({x:t,y:t}),u={left:"right",right:"left",bottom:"top",top:"bottom"},f={start:"end",end:"start"};function p(t,e,i){return a(t,s(e,i))}function h(t,e){return"function"==typeof t?t(e):t}function g(t){return t.split("-")[0]}function m(t){return t.split("-")[1]}function y(t){return"x"===t?"y":"x"}function v(t){return"y"===t?"height":"width"}function b(t){return["top","bottom"].includes(g(t))?"y":"x"}function w(t){return y(b(t))}function x(t,e,i){void 0===i&&(i=!1);const n=m(t),o=w(t),r=v(o);let s="x"===o?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=E(s)),[s,E(s)]}function k(t){return t.replace(/start|end/g,(t=>f[t]))}function E(t){return t.replace(/left|right|bottom|top/g,(t=>u[t]))}function S(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function _(t){const{x:e,y:i,width:n,height:o}=t;return{width:n,height:o,top:i,left:e,right:e+n,bottom:i+o,x:e,y:i}}function P(t,e,i){let{reference:n,floating:o}=t;const r=b(e),s=w(e),a=v(s),l=g(e),c="y"===r,d=n.x+n.width/2-o.width/2,u=n.y+n.height/2-o.height/2,f=n[a]/2-o[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-o.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-o.width,y:u};break;default:p={x:n.x,y:n.y}}switch(m(e)){case"start":p[s]-=f*(i&&c?-1:1);break;case"end":p[s]+=f*(i&&c?-1:1)}return p}async function L(t,e){var i;void 0===e&&(e={});const{x:n,y:o,platform:r,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=h(e,t),g=S(p),m=a[f?"floating"===u?"reference":"floating":u],y=_(await r.getClippingRect({element:null==(i=await(null==r.isElement?void 0:r.isElement(m)))||i?m:m.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:n,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==r.getOffsetParent?void 0:r.getOffsetParent(a.floating)),w=await(null==r.isElement?void 0:r.isElement(b))&&await(null==r.getScale?void 0:r.getScale(b))||{x:1,y:1},x=_(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(y.top-x.top+g.top)/w.y,bottom:(x.bottom-y.bottom+g.bottom)/w.y,left:(y.left-x.left+g.left)/w.x,right:(x.right-y.right+g.right)/w.x}}function C(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O(t){return n.some((e=>t[e]>=0))}function B(t){const e=s(...t.map((t=>t.left))),i=s(...t.map((t=>t.top)));return{x:e,y:i,width:a(...t.map((t=>t.right)))-e,height:a(...t.map((t=>t.bottom)))-i}}function A(){return"undefined"!=typeof window}function D(t){return R(t)?(t.nodeName||"").toLowerCase():"#document"}function T(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function M(t){var e;return null==(e=(R(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function R(t){return!!A()&&(t instanceof Node||t instanceof T(t).Node)}function H(t){return!!A()&&(t instanceof Element||t instanceof T(t).Element)}function j(t){return!!A()&&(t instanceof HTMLElement||t instanceof T(t).HTMLElement)}function W(t){return!(!A()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof T(t).ShadowRoot)}function z(t){const{overflow:e,overflowX:i,overflowY:n,display:o}=q(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!["inline","contents"].includes(o)}function F(t){return["table","td","th"].includes(D(t))}function V(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function I(t){const e=N(),i=H(t)?q(t):t;return["transform","translate","scale","rotate","perspective"].some((t=>!!i[t]&&"none"!==i[t]))||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||["transform","translate","scale","rotate","perspective","filter"].some((t=>(i.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(i.contain||"").includes(t)))}function N(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function G(t){return["html","body","#document"].includes(D(t))}function q(t){return T(t).getComputedStyle(t)}function $(t){return H(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Y(t){if("html"===D(t))return t;const e=t.assignedSlot||t.parentNode||W(t)&&t.host||M(t);return W(e)?e.host:e}function X(t){const e=Y(t);return G(e)?t.ownerDocument?t.ownerDocument.body:t.body:j(e)&&z(e)?e:X(e)}function Z(t,e,i){var n;void 0===e&&(e=[]),void 0===i&&(i=!0);const o=X(t),r=o===(null==(n=t.ownerDocument)?void 0:n.body),s=T(o);if(r){const t=J(s);return e.concat(s,s.visualViewport||[],z(o)?o:[],t&&i?Z(t):[])}return e.concat(o,Z(o,[],i))}function J(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U(t){const e=q(t);let i=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=j(t),r=o?t.offsetWidth:i,s=o?t.offsetHeight:n,a=l(i)!==r||l(n)!==s;return a&&(i=r,n=s),{width:i,height:n,$:a}}function K(t){return H(t)?t:t.contextElement}function Q(t){const e=K(t);if(!j(e))return d(1);const i=e.getBoundingClientRect(),{width:n,height:o,$:r}=U(e);let s=(r?l(i.width):i.width)/n,a=(r?l(i.height):i.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const tt=d(0);function et(t){const e=T(t);return N()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:tt}function it(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1);const o=t.getBoundingClientRect(),r=K(t);let s=d(1);e&&(n?H(n)&&(s=Q(n)):s=Q(t));const a=function(t,e,i){return void 0===e&&(e=!1),!(!i||e&&i!==T(t))&&e}(r,i,n)?et(r):d(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(r){const t=T(r),e=n&&H(n)?T(n):n;let i=t,o=J(i);for(;o&&n&&e!==i;){const t=Q(o),e=o.getBoundingClientRect(),n=q(o),r=e.left+(o.clientLeft+parseFloat(n.paddingLeft))*t.x,s=e.top+(o.clientTop+parseFloat(n.paddingTop))*t.y;l*=t.x,c*=t.y,u*=t.x,f*=t.y,l+=r,c+=s,i=T(o),o=J(i)}}return _({width:u,height:f,x:l,y:c})}function nt(t,e){const i=$(t).scrollLeft;return e?e.left+i:it(M(t)).left+i}function ot(t,e,i){void 0===i&&(i=!1);const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-(i?0:nt(t,n)),y:n.top+e.scrollTop}}function rt(t,e,i){let n;if("viewport"===e)n=function(t,e){const i=T(t),n=M(t),o=i.visualViewport;let r=n.clientWidth,s=n.clientHeight,a=0,l=0;if(o){r=o.width,s=o.height;const t=N();(!t||t&&"fixed"===e)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:s,x:a,y:l}}(t,i);else if("document"===e)n=function(t){const e=M(t),i=$(t),n=t.ownerDocument.body,o=a(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=a(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-i.scrollLeft+nt(t);const l=-i.scrollTop;return"rtl"===q(n).direction&&(s+=a(e.clientWidth,n.clientWidth)-o),{width:o,height:r,x:s,y:l}}(M(t));else if(H(e))n=function(t,e){const i=it(t,!0,"fixed"===e),n=i.top+t.clientTop,o=i.left+t.clientLeft,r=j(t)?Q(t):d(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:o*r.x,y:n*r.y}}(e,i);else{const i=et(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _(n)}function st(t,e){const i=Y(t);return!(i===e||!H(i)||G(i))&&("fixed"===q(i).position||st(i,e))}function at(t,e,i){const n=j(e),o=M(e),r="fixed"===i,s=it(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const l=d(0);if(n||!n&&!r)if(("body"!==D(e)||z(o))&&(a=$(e)),n){const t=it(e,!0,r,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else o&&(l.x=nt(o));const c=!o||n||r?d(0):ot(o,a);return{x:s.left+a.scrollLeft-l.x-c.x,y:s.top+a.scrollTop-l.y-c.y,width:s.width,height:s.height}}function lt(t){return"static"===q(t).position}function ct(t,e){if(!j(t)||"fixed"===q(t).position)return null;if(e)return e(t);let i=t.offsetParent;return M(t)===i&&(i=i.ownerDocument.body),i}function dt(t,e){const i=T(t);if(V(t))return i;if(!j(t)){let e=Y(t);for(;e&&!G(e);){if(H(e)&&!lt(e))return e;e=Y(e)}return i}let n=ct(t,e);for(;n&&F(n)&&lt(n);)n=ct(n,e);return n&&G(n)&&lt(n)&&!I(n)?i:n||function(t){let e=Y(t);for(;j(e)&&!G(e);){if(I(e))return e;if(V(e))return null;e=Y(e)}return null}(t)||i}const ut={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:n,strategy:o}=t;const r="fixed"===o,s=M(n),a=!!e&&V(e.floating);if(n===s||a&&r)return i;let l={scrollLeft:0,scrollTop:0},c=d(1);const u=d(0),f=j(n);if((f||!f&&!r)&&(("body"!==D(n)||z(s))&&(l=$(n)),j(n))){const t=it(n);c=Q(n),u.x=t.x+n.clientLeft,u.y=t.y+n.clientTop}const p=!s||f||r?d(0):ot(s,l,!0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:i.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:M,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:n,strategy:o}=t;const r=[..."clippingAncestors"===i?V(e)?[]:function(t,e){const i=e.get(t);if(i)return i;let n=Z(t,[],!1).filter((t=>H(t)&&"body"!==D(t))),o=null;const r="fixed"===q(t).position;let s=r?Y(t):t;for(;H(s)&&!G(s);){const e=q(s),i=I(s);i||"fixed"!==e.position||(o=null),(r?!i&&!o:!i&&"static"===e.position&&o&&["absolute","fixed"].includes(o.position)||z(s)&&!i&&st(t,s))?n=n.filter((t=>t!==s)):o=e,s=Y(s)}return e.set(t,n),n}(e,this._c):[].concat(i),n],l=r[0],c=r.reduce(((t,i)=>{const n=rt(e,i,o);return t.top=a(n.top,t.top),t.right=s(n.right,t.right),t.bottom=s(n.bottom,t.bottom),t.left=a(n.left,t.left),t}),rt(e,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:dt,getElementRects:async function(t){const e=this.getOffsetParent||dt,i=this.getDimensions,n=await i(t.floating);return{reference:at(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:i}=U(t);return{width:e,height:i}},getScale:Q,isElement:H,isRTL:function(t){return"rtl"===q(t).direction}};function ft(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pt(t,e,i,n){void 0===n&&(n={});const{ancestorScroll:o=!0,ancestorResize:r=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:u=!1}=n,f=K(t),p=o||r?[...f?Z(f):[],...Z(e)]:[];p.forEach((t=>{o&&t.addEventListener("scroll",i,{passive:!0}),r&&t.addEventListener("resize",i)}));const h=f&&d?function(t,e){let i,n=null;const o=M(t);function r(){var t;clearTimeout(i),null==(t=n)||t.disconnect(),n=null}return function l(d,u){void 0===d&&(d=!1),void 0===u&&(u=1),r();const f=t.getBoundingClientRect(),{left:p,top:h,width:g,height:m}=f;if(d||e(),!g||!m)return;const y={rootMargin:-c(h)+"px "+-c(o.clientWidth-(p+g))+"px "+-c(o.clientHeight-(h+m))+"px "+-c(p)+"px",threshold:a(0,s(1,u))||1};let v=!0;function b(e){const n=e[0].intersectionRatio;if(n!==u){if(!v)return l();n?l(!1,n):i=setTimeout((()=>{l(!1,1e-7)}),1e3)}1!==n||ft(f,t.getBoundingClientRect())||l(),v=!1}try{n=new IntersectionObserver(b,{...y,root:o.ownerDocument})}catch(t){n=new IntersectionObserver(b,y)}n.observe(t)}(!0),r}(f,i):null;let g,m=-1,y=null;l&&(y=new ResizeObserver((t=>{let[n]=t;n&&n.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var t;null==(t=y)||t.observe(e)}))),i()})),f&&!u&&y.observe(f),y.observe(e));let v=u?it(t):null;return u&&function e(){const n=it(t);v&&!ft(v,n)&&i(),v=n,g=requestAnimationFrame(e)}(),i(),()=>{var t;p.forEach((t=>{o&&t.removeEventListener("scroll",i),r&&t.removeEventListener("resize",i)})),null==h||h(),null==(t=y)||t.disconnect(),y=null,u&&cancelAnimationFrame(g)}}const ht=L,gt=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var i,n;const{x:o,y:r,placement:s,middlewareData:a}=e,l=await async function(t,e){const{placement:i,platform:n,elements:o}=t,r=await(null==n.isRTL?void 0:n.isRTL(o.floating)),s=g(i),a=m(i),l="y"===b(i),c=["left","top"].includes(s)?-1:1,d=r&&l?-1:1,u=h(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:y}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof y&&(p="end"===a?-1*y:y),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}(e,t);return s===(null==(i=a.offset)?void 0:i.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:o+l.x,y:r+l.y,data:{...l,placement:s}}}}},mt=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var i,n,o;const{rects:s,middlewareData:a,placement:l,platform:c,elements:d}=e,{crossAxis:u=!1,alignment:f,allowedPlacements:p=r,autoAlignment:y=!0,...v}=h(t,e),b=void 0!==f||p===r?function(t,e,i){return(t?[...i.filter((e=>m(e)===t)),...i.filter((e=>m(e)!==t))]:i.filter((t=>g(t)===t))).filter((i=>!t||m(i)===t||!!e&&k(i)!==i))}(f||null,y,p):p,w=await L(e,v),E=(null==(i=a.autoPlacement)?void 0:i.index)||0,S=b[E];if(null==S)return{};const _=x(S,s,await(null==c.isRTL?void 0:c.isRTL(d.floating)));if(l!==S)return{reset:{placement:b[0]}};const P=[w[g(S)],w[_[0]],w[_[1]]],C=[...(null==(n=a.autoPlacement)?void 0:n.overflows)||[],{placement:S,overflows:P}],O=b[E+1];if(O)return{data:{index:E+1,overflows:C},reset:{placement:O}};const B=C.map((t=>{const e=m(t.placement);return[t.placement,e&&u?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1])),A=(null==(o=B.filter((t=>t[2].slice(0,m(t[0])?2:3).every((t=>t<=0))))[0])?void 0:o[0])||B[0][0];return A!==l?{data:{index:E+1,overflows:C},reset:{placement:A}}:{}}}},yt=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:n,placement:o}=e,{mainAxis:r=!0,crossAxis:s=!1,limiter:a={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...l}=h(t,e),c={x:i,y:n},d=await L(e,l),u=b(g(o)),f=y(u);let m=c[f],v=c[u];if(r){const t="y"===f?"bottom":"right";m=p(m+d["y"===f?"top":"left"],m,m-d[t])}if(s){const t="y"===u?"bottom":"right";v=p(v+d["y"===u?"top":"left"],v,v-d[t])}const w=a.fn({...e,[f]:m,[u]:v});return{...w,data:{x:w.x-i,y:w.y-n,enabled:{[f]:r,[u]:s}}}}}},vt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var i,n;const{placement:o,middlewareData:r,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=h(t,e);if(null!=(i=r.arrow)&&i.alignmentOffset)return{};const S=g(o),_=b(a),P=g(a)===a,C=await(null==l.isRTL?void 0:l.isRTL(c.floating)),O=f||(P||!v?[E(a)]:function(t){const e=E(t);return[k(t),e,k(e)]}(a)),B="none"!==y;!f&&B&&O.push(...function(t,e,i,n){const o=m(t);let r=function(t,e,i){const n=["left","right"],o=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return i?e?o:n:e?n:o;case"left":case"right":return e?r:s;default:return[]}}(g(t),"start"===i,n);return o&&(r=r.map((t=>t+"-"+o)),e&&(r=r.concat(r.map(k)))),r}(a,v,y,C));const A=[a,...O],D=await L(e,w),T=[];let M=(null==(n=r.flip)?void 0:n.overflows)||[];if(d&&T.push(D[S]),u){const t=x(o,s,C);T.push(D[t[0]],D[t[1]])}if(M=[...M,{placement:o,overflows:T}],!T.every((t=>t<=0))){var R,H;const t=((null==(R=r.flip)?void 0:R.index)||0)+1,e=A[t];if(e)return{data:{index:t,overflows:M},reset:{placement:e}};let i=null==(H=M.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:H.placement;if(!i)switch(p){case"bestFit":{var j;const t=null==(j=M.filter((t=>{if(B){const e=b(t.placement);return e===_||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:j[0];t&&(i=t);break}case"initialPlacement":i=a}if(o!==i)return{reset:{placement:i}}}return{}}}},bt=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var i,n;const{placement:o,rects:r,platform:l,elements:c}=e,{apply:d=()=>{},...u}=h(t,e),f=await L(e,u),p=g(o),y=m(o),v="y"===b(o),{width:w,height:x}=r.floating;let k,E;"top"===p||"bottom"===p?(k=p,E=y===(await(null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(E=p,k="end"===y?"top":"bottom");const S=x-f.top-f.bottom,_=w-f.left-f.right,P=s(x-f[k],S),C=s(w-f[E],_),O=!e.middlewareData.shift;let B=P,A=C;if(null!=(i=e.middlewareData.shift)&&i.enabled.x&&(A=_),null!=(n=e.middlewareData.shift)&&n.enabled.y&&(B=S),O&&!y){const t=a(f.left,0),e=a(f.right,0),i=a(f.top,0),n=a(f.bottom,0);v?A=w-2*(0!==t||0!==e?t+e:a(f.left,f.right)):B=x-2*(0!==i||0!==n?i+n:a(f.top,f.bottom))}await d({...e,availableWidth:A,availableHeight:B});const D=await l.getDimensions(c.floating);return w!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}},wt=function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(e){const{rects:i}=e,{strategy:n="referenceHidden",...o}=h(t,e);switch(n){case"referenceHidden":{const t=C(await L(e,{...o,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:O(t)}}}case"escaped":{const t=C(await L(e,{...o,altBoundary:!0}),i.floating);return{data:{escapedOffsets:t,escaped:O(t)}}}default:return{}}}}},xt=t=>({name:"arrow",options:t,async fn(e){const{x:i,y:n,placement:o,rects:r,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=h(t,e)||{};if(null==d)return{};const f=S(u),g={x:i,y:n},y=w(o),b=v(y),x=await a.getDimensions(d),k="y"===y,E=k?"top":"left",_=k?"bottom":"right",P=k?"clientHeight":"clientWidth",L=r.reference[b]+r.reference[y]-g[y]-r.floating[b],C=g[y]-r.reference[y],O=await(null==a.getOffsetParent?void 0:a.getOffsetParent(d));let B=O?O[P]:0;B&&await(null==a.isElement?void 0:a.isElement(O))||(B=l.floating[P]||r.floating[b]);const A=L/2-C/2,D=B/2-x[b]/2-1,T=s(f[E],D),M=s(f[_],D),R=T,H=B-x[b]-M,j=B/2-x[b]/2+A,W=p(R,j,H),z=!c.arrow&&null!=m(o)&&j!==W&&r.reference[b]/2-(j<R?T:M)-x[b]/2<0,F=z?j<R?j-R:j-H:0;return{[y]:g[y]+F,data:{[y]:W,centerOffset:j-W-F,...z&&{alignmentOffset:F}},reset:z}}}),kt=function(t){return void 0===t&&(t={}),{name:"inline",options:t,async fn(e){const{placement:i,elements:n,rects:o,platform:r,strategy:l}=e,{padding:c=2,x:d,y:u}=h(t,e),f=Array.from(await(null==r.getClientRects?void 0:r.getClientRects(n.reference))||[]),p=function(t){const e=t.slice().sort(((t,e)=>t.y-e.y)),i=[];let n=null;for(let t=0;t<e.length;t++){const o=e[t];!n||o.y-n.y>n.height/2?i.push([o]):i[i.length-1].push(o),n=o}return i.map((t=>_(B(t))))}(f),m=_(B(f)),y=S(c),v=await r.getElementRects({reference:{getBoundingClientRect:function(){if(2===p.length&&p[0].left>p[1].right&&null!=d&&null!=u)return p.find((t=>d>t.left-y.left&&d<t.right+y.right&&u>t.top-y.top&&u<t.bottom+y.bottom))||m;if(p.length>=2){if("y"===b(i)){const t=p[0],e=p[p.length-1],n="top"===g(i),o=t.top,r=e.bottom,s=n?t.left:e.left,a=n?t.right:e.right;return{top:o,bottom:r,left:s,right:a,width:a-s,height:r-o,x:s,y:o}}const t="left"===g(i),e=a(...p.map((t=>t.right))),n=s(...p.map((t=>t.left))),o=p.filter((i=>t?i.left===n:i.right===e)),r=o[0].top,l=o[o.length-1].bottom;return{top:r,bottom:l,left:n,right:e,width:e-n,height:l-r,x:n,y:r}}return m}},floating:n.floating,strategy:l});return o.reference.x!==v.reference.x||o.reference.y!==v.reference.y||o.reference.width!==v.reference.width||o.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}},Et=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:i,y:n,placement:o,rects:r,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=h(t,e),d={x:i,y:n},u=b(o),f=y(u);let p=d[f],m=d[u];const v=h(a,e),w="number"==typeof v?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const t="y"===f?"height":"width",e=r.reference[f]-r.floating[t]+w.mainAxis,i=r.reference[f]+r.reference[t]-w.mainAxis;p<e?p=e:p>i&&(p=i)}if(c){var x,k;const t="y"===f?"width":"height",e=["top","left"].includes(g(o)),i=r.reference[u]-r.floating[t]+(e&&(null==(x=s.offset)?void 0:x[u])||0)+(e?0:w.crossAxis),n=r.reference[u]+r.reference[t]+(e?0:(null==(k=s.offset)?void 0:k[u])||0)-(e?w.crossAxis:0);m<i?m=i:m>n&&(m=n)}return{[f]:p,[u]:m}}}},St=(t,e,i)=>{const n=new Map,o={platform:ut,...i},r={...o.platform,_c:n};return(async(t,e,i)=>{const{placement:n="bottom",strategy:o="absolute",middleware:r=[],platform:s}=i,a=r.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=P(c,n,l),f=n,p={},h=0;for(let i=0;i<a.length;i++){const{name:r,fn:g}=a[i],{x:m,y,data:v,reset:b}=await g({x:d,y:u,initialPlacement:n,placement:f,strategy:o,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});d=null!=m?m:d,u=null!=y?y:u,p={...p,[r]:{...p[r],...v}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):b.rects),({x:d,y:u}=P(c,f,l))),i=-1)}return{x:d,y:u,placement:f,strategy:o,middlewareData:p}})(t,e,{...o,platform:r})}},964:(t,e,i)=>{i.p}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,i),r.exports}return i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="",i(964),i(844)})()));